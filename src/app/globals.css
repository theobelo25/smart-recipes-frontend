@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

/* =========================
   1) Palette (RGB triplets)
   NOTE: space-separated, no commas
========================= */
@layer base {
  :root {
    /* Brand (slightly deepened so it doesn’t wash out on the greener bg) */
    --brand: 152 209 179; /* #98D1B3 */
    --brand-hover: 130 198 161; /* #82C6A1 */
    --brand-dark: 95 168 131; /* #5FA883 */

    /* Surfaces (tuned to layer nicely above #E6F2EA) */
    --bg: 230 242 234; /* #E6F2EA */
    --card: 242 250 245; /* #F2FAF5 (lighter than bg for cards) */
    --section: 222 238 229; /* #DEEEE5 (slightly deeper than bg for sections) */

    /* Text (balanced for warmth + clarity; not too gray, not too green) */
    --text: 47 58 47; /* #2F3A2F (your chosen primary) */
    --text-secondary: 71 88 74; /* #47584A */
    --text-muted: 111 132 117; /* #6F8475 */

    /* Semantic (softened to match pastel + green theme) */
    --success: 140 214 176; /* #8CD6B0 */
    --warning: 242 203 150; /* #F2CB96 */
    --error: 237 160 160; /* #EDA0A0 */
    --info: 179 221 245; /* #B3DDF5 */

    /* UI (a bit more neutral so borders don’t look “green tinted”) */
    --border: 200 214 205; /* #C8D6CD */
    --ring: 152 209 179; /* matches --brand */

    --radius: 12px;
  }

  .dark {
    /* Brand (kept consistent with light mode, slightly brighter for dark UI) */
    --brand: 170 223 198; /* #AADFC6 */
    --brand-hover: 152 209 179; /* #98D1B3 */
    --brand-dark: 112 184 149; /* #70B895 */

    /* Surfaces (dark pastel green, with clear elevation steps) */
    --bg: 22 34 29; /* #16221D */
    --card: 28 44 37; /* #1C2C25 */
    --section: 35 56 47; /* #23382F */

    /* Text (soft, slightly green-tinted off-whites; avoids pure white) */
    --text: 231 242 235; /* #E7F2EB */
    --text-secondary: 183 205 192; /* #B7CDC0 */
    --text-muted: 141 167 153; /* #8DA799 */

    /* Semantic (pastel but not neon on dark) */
    --success: 123 201 164; /* #7BC9A4 */
    --warning: 224 180 123; /* #E0B47B */
    --error: 222 129 129; /* #DE8181 */
    --info: 148 196 224; /* #94C4E0 */

    /* UI (subtle borders, brand ring) */
    --border: 62 86 74; /* #3E564A */
    --ring: 170 223 198; /* matches --brand */
  }

  * {
    @apply border-border outline-ring/50;
  }

  /* IMPORTANT: no <alpha-value> here */
  body {
    background-color: rgb(var(--bg));
    color: rgb(var(--text));
  }
}

/* =========================
   2) Tailwind v4 theme tokens
   (this is where <alpha-value> is valid)
========================= */
@theme inline {
  /* Fonts */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* shadcn utilities */
  --color-background: rgb(var(--bg) / <alpha-value>);
  --color-foreground: rgb(var(--text) / <alpha-value>);

  --color-card: rgb(var(--card) / <alpha-value>);
  --color-card-foreground: rgb(var(--text) / <alpha-value>);

  --color-popover: rgb(var(--card) / <alpha-value>);
  --color-popover-foreground: rgb(var(--text) / <alpha-value>);

  --color-primary: rgb(var(--brand) / <alpha-value>);
  --color-primary-foreground: rgb(var(--text) / <alpha-value>);

  --color-secondary: rgb(var(--section) / <alpha-value>);
  --color-secondary-foreground: rgb(var(--text) / <alpha-value>);

  --color-muted: rgb(var(--section) / <alpha-value>);
  --color-muted-foreground: rgb(var(--text-muted) / <alpha-value>);

  --color-accent: rgb(var(--section) / <alpha-value>);
  --color-accent-foreground: rgb(var(--text) / <alpha-value>);

  --color-destructive: rgb(var(--error) / <alpha-value>);
  --color-destructive-foreground: rgb(var(--text) / <alpha-value>);

  --color-border: rgb(var(--border) / <alpha-value>);
  --color-input: rgb(var(--border) / <alpha-value>);
  --color-ring: rgb(var(--ring) / <alpha-value>);

  /* Radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);

  /* Optional convenience utilities */
  --color-brand: rgb(var(--brand) / <alpha-value>);
  --color-brand-hover: rgb(var(--brand-hover) / <alpha-value>);
  --color-text-primary: rgb(var(--text) / <alpha-value>);
  --color-text-secondary: rgb(var(--text-secondary) / <alpha-value>);
  --color-text-muted: rgb(var(--text-muted) / <alpha-value>);
}

/* Optional: if you use Typography's prose classes, keep it from forcing pure white */
@layer base {
  .prose {
    --tw-prose-body: rgb(var(--text));
    --tw-prose-headings: rgb(var(--text));
    --tw-prose-links: rgb(var(--brand));
  }
  .dark .prose {
    --tw-prose-body: rgb(var(--text));
    --tw-prose-headings: rgb(var(--text));
    --tw-prose-links: rgb(var(--brand));
  }
}
